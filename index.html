<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ğŸµ MÃ¼zikBox</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
:root{
  --p:#8b5cf6;--p2:#a78bfa;--p3:#6d28d9;
  --g:#10b981;--r:#ef4444;--o:#f59e0b;--b:#3b82f6;
  --dark:#060612;--c1:#0e0e1e;--c2:#141428;--c3:#1c1c38;
  --t:#fff;--t2:#7070a0;--bd:rgba(255,255,255,0.07)
}
body{background:var(--dark);color:var(--t);font-family:-apple-system,BlinkMacSystemFont,'SF Pro Display',sans-serif;min-height:100vh;overflow-x:hidden;padding-bottom:80px}

/* BG GLOW */
.glow{position:fixed;inset:0;z-index:0;pointer-events:none}
.glow::before{content:'';position:absolute;width:600px;height:600px;background:radial-gradient(circle,rgba(139,92,246,.1) 0%,transparent 65%);top:-200px;left:-200px;animation:g1 12s ease-in-out infinite alternate}
.glow::after{content:'';position:absolute;width:400px;height:400px;background:radial-gradient(circle,rgba(16,185,129,.07) 0%,transparent 65%);bottom:-100px;right:-100px;animation:g1 15s ease-in-out infinite alternate-reverse}
@keyframes g1{to{transform:translate(60px,40px)}}

.app{position:relative;z-index:1;max-width:430px;margin:0 auto}

/* HEADER */
.hdr{padding:52px 20px 14px;display:flex;align-items:center;justify-content:space-between}
.logo{display:flex;align-items:center;gap:10px}
.logo-box{width:40px;height:40px;background:linear-gradient(135deg,var(--p),var(--b));border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px;box-shadow:0 0 24px rgba(139,92,246,.4)}
.logo-txt{font-size:21px;font-weight:800;letter-spacing:-.5px}
.logo-txt b{color:var(--p2)}
.badge{font-size:11px;font-weight:700;padding:5px 12px;border-radius:20px;background:rgba(16,185,129,.12);color:var(--g);border:1px solid rgba(16,185,129,.22)}

/* TABS */
.tabs{display:flex;gap:6px;padding:0 20px 18px}
.tab{flex:1;padding:10px 4px;background:var(--c1);border:1px solid var(--bd);border-radius:14px;color:var(--t2);font-size:11px;font-weight:700;cursor:pointer;text-align:center;transition:all .25s;display:flex;flex-direction:column;align-items:center;gap:4px}
.tab span{font-size:20px}
.tab.on{background:linear-gradient(135deg,var(--p3),var(--p));color:#fff;border-color:transparent;box-shadow:0 4px 20px rgba(139,92,246,.35)}

/* PAGE */
.pg{display:none;padding:0 20px}.pg.on{display:block}

/* SECTION LABEL */
.slbl{font-size:11px;font-weight:800;color:var(--t2);text-transform:uppercase;letter-spacing:1.2px;margin-bottom:12px;display:flex;align-items:center;gap:8px}
.slbl::after{content:'';flex:1;height:1px;background:var(--bd)}

/* CARD BASE */
.card{background:var(--c1);border:1px solid var(--bd);border-radius:20px;padding:18px;margin-bottom:16px;position:relative;overflow:hidden}
.card::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--p),var(--b))}

/* SEARCH BOX */
.sbox{position:relative;margin-bottom:14px}
.sinp{width:100%;padding:15px 52px 15px 46px;background:var(--c1);border:1.5px solid var(--bd);border-radius:18px;color:var(--t);font-size:16px;outline:none;-webkit-appearance:none;transition:border .2s;font-family:inherit}
.sinp:focus{border-color:var(--p)}
.sinp::placeholder{color:var(--t2)}
.sico{position:absolute;left:15px;top:50%;transform:translateY(-50%);font-size:18px;pointer-events:none}
.sbtn{position:absolute;right:7px;top:50%;transform:translateY(-50%);width:42px;height:42px;background:linear-gradient(135deg,var(--p3),var(--p));border:none;border-radius:12px;color:#fff;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:transform .15s}
.sbtn:active{transform:translateY(-50%) scale(.9)}

/* SOURCE CHIPS */
.chips{display:flex;gap:8px;overflow-x:auto;scrollbar-width:none;padding-bottom:4px;margin-bottom:18px}
.chips::-webkit-scrollbar{display:none}
.chip{flex-shrink:0;padding:8px 15px;background:var(--c1);border:1.5px solid var(--bd);border-radius:20px;color:var(--t2);font-size:13px;font-weight:600;cursor:pointer;transition:all .2s;white-space:nowrap}
.chip.on{background:rgba(139,92,246,.15);border-color:var(--p);color:var(--p2)}
.chip:active{transform:scale(.94)}

/* RESULT CARD */
.rc{background:var(--c1);border:1px solid var(--bd);border-radius:18px;padding:13px;display:flex;align-items:center;gap:12px;margin-bottom:10px;transition:all .2s;cursor:default}
.rc:active{background:var(--c2);transform:scale(.99)}
.rthumb{width:54px;height:54px;border-radius:12px;object-fit:cover;flex-shrink:0;background:var(--c3)}
.rph{width:54px;height:54px;border-radius:12px;background:linear-gradient(135deg,var(--p3),var(--b));display:flex;align-items:center;justify-content:center;font-size:24px;flex-shrink:0}
.ri{flex:1;min-width:0}
.rtitle{font-size:14px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:3px}
.rartist{font-size:12px;color:var(--t2);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px}
.rmeta{display:flex;gap:5px;flex-wrap:wrap}
.rdur{font-size:11px;color:var(--t2);background:var(--c3);padding:2px 7px;border-radius:6px}
.rsrc{font-size:10px;font-weight:800;padding:2px 7px;border-radius:6px}
.racts{display:flex;flex-direction:column;gap:6px;flex-shrink:0}
.rab{width:34px;height:34px;border:none;border-radius:10px;cursor:pointer;font-size:15px;display:flex;align-items:center;justify-content:center;transition:all .15s}
.rab:active{transform:scale(.87)}
.rplay{background:linear-gradient(135deg,var(--p3),var(--p));color:#fff}
.rfav{background:rgba(239,68,68,.14);color:var(--r)}
.rdl{background:rgba(16,185,129,.14);color:var(--g)}

/* FREE MP3 SOURCES */
.src-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:18px}
.srccard{background:var(--c1);border:1px solid var(--bd);border-radius:18px;padding:16px 12px;text-align:center;cursor:pointer;transition:all .2s;position:relative;overflow:hidden}
.srccard::after{content:'';position:absolute;inset:0;background:var(--p);opacity:0;transition:opacity .2s;border-radius:18px}
.srccard:active::after{opacity:.08}
.srccard:active{transform:scale(.96)}
.srccard.hot{border-color:var(--p);background:rgba(139,92,246,.07)}
.srccard .sico2{font-size:28px;display:block;margin-bottom:8px}
.srccard .sname{font-size:13px;font-weight:700}
.srccard .sdesc{font-size:11px;color:var(--t2);margin-top:3px}
.srccard .stag{display:inline-block;font-size:10px;font-weight:700;padding:2px 8px;border-radius:8px;margin-top:6px}

/* DOWNLOAD BOX */
.dlbox{background:var(--c1);border:1px solid var(--bd);border-radius:22px;padding:18px;margin-bottom:18px;position:relative;overflow:hidden}
.dlbox::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--p),var(--g))}
.inp-lbl{font-size:12px;color:var(--t2);margin-bottom:8px;display:flex;justify-content:space-between;align-items:center}
.inp-lbl button{background:rgba(139,92,246,.15);border:1px solid rgba(139,92,246,.25);color:var(--p2);font-size:11px;font-weight:700;padding:4px 10px;border-radius:8px;cursor:pointer}
.urlinp{width:100%;padding:13px 15px;background:var(--dark);border:1.5px solid var(--bd);border-radius:14px;color:var(--t);font-size:14px;outline:none;-webkit-appearance:none;transition:border .2s;font-family:inherit;margin-bottom:12px}
.urlinp:focus{border-color:var(--p)}
.urlinp::placeholder{color:var(--t2)}
.plat-pill{display:none;align-items:center;gap:8px;padding:8px 12px;border-radius:11px;font-size:13px;font-weight:600;margin-bottom:12px}
.plat-pill.show{display:flex}

/* BIG BTN */
.bigbtn{width:100%;padding:15px;background:linear-gradient(135deg,var(--p3),var(--p));border:none;border-radius:16px;color:#fff;font-size:16px;font-weight:700;cursor:pointer;transition:all .2s;box-shadow:0 6px 22px rgba(139,92,246,.35);display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:10px}
.bigbtn:active{transform:scale(.97);box-shadow:0 3px 12px rgba(139,92,246,.25)}
.bigbtn2{background:linear-gradient(135deg,#065f46,var(--g))}

/* ALT LIST */
.altlist{display:flex;flex-direction:column;gap:10px;margin-bottom:18px}
.altrow{background:var(--c1);border:1px solid var(--bd);border-radius:16px;padding:14px;display:flex;align-items:center;gap:14px;cursor:pointer;transition:all .2s}
.altrow:active{background:var(--c2);transform:scale(.98)}
.altico{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0}
.altinfo{flex:1}
.altname{font-size:14px;font-weight:700;margin-bottom:3px}
.altdesc{font-size:12px;color:var(--t2);margin-bottom:5px}
.alttags{display:flex;gap:4px;flex-wrap:wrap}
.atag{font-size:10px;font-weight:800;padding:2px 7px;border-radius:6px}
.tg{background:rgba(16,185,129,.14);color:var(--g)}
.tp{background:rgba(139,92,246,.14);color:var(--p2)}
.tb{background:rgba(59,130,246,.14);color:var(--b)}
.to{background:rgba(245,158,11,.14);color:var(--o)}
.tr2{background:rgba(239,68,68,.14);color:var(--r)}
.altarr{color:var(--t2);font-size:20px;font-weight:300}

/* PROGRESS */
.progbox{display:none;margin-top:12px}
.progbox.show{display:block}
.progbar{height:5px;background:rgba(255,255,255,.08);border-radius:3px;overflow:hidden;margin-bottom:8px}
.progfill{height:100%;background:linear-gradient(90deg,var(--p),var(--g));border-radius:3px;width:0%;transition:width .3s}
.progtxt{font-size:12px;color:var(--t2);text-align:center}

/* HOW TO */
.hbox{background:var(--c1);border:1px solid var(--bd);border-radius:18px;padding:16px;margin-bottom:18px}
.htitle{font-size:14px;font-weight:700;margin-bottom:12px;display:flex;align-items:center;gap:8px}
.hstep{display:flex;gap:12px;align-items:flex-start;margin-bottom:11px}
.hnum{width:24px;height:24px;background:linear-gradient(135deg,var(--p3),var(--p));border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:800;flex-shrink:0}
.htxt{font-size:13px;color:var(--t2);line-height:1.55;padding-top:3px}
.htxt b{color:var(--t)}

/* LIBRARY */
.stats{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:18px}
.stat{background:var(--c1);border:1px solid var(--bd);border-radius:14px;padding:14px 8px;text-align:center}
.snum{font-size:22px;font-weight:800;background:linear-gradient(135deg,var(--p),var(--b));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.slb{font-size:11px;color:var(--t2);margin-top:4px}

/* PLAYER */
.player{position:fixed;bottom:0;left:0;right:0;background:rgba(14,14,30,.97);backdrop-filter:blur(28px);-webkit-backdrop-filter:blur(28px);border-top:1px solid var(--bd);padding:10px 16px 28px;z-index:300;transform:translateY(100%);transition:transform .35s cubic-bezier(.4,0,.2,1)}
.player.show{transform:translateY(0)}
.pbar{height:3px;background:rgba(255,255,255,.08);border-radius:2px;margin-bottom:10px;cursor:pointer;overflow:hidden}
.pbfill{height:100%;background:linear-gradient(90deg,var(--p),var(--b));border-radius:2px;width:0%;transition:width .5s linear}
.pbody{display:flex;align-items:center;gap:12px}
.part{width:44px;height:44px;border-radius:11px;background:linear-gradient(135deg,var(--p3),var(--b));display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0}
.part.spin{animation:aspin 8s linear infinite}
@keyframes aspin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.pinfo{flex:1;min-width:0}
.ptitle{font-size:14px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.pbars{display:flex;align-items:flex-end;gap:2px;height:16px;margin-top:4px}
.pbar2{width:3px;background:var(--p2);border-radius:2px;animation:ba .6s ease infinite alternate}
.pbar2:nth-child(1){animation-delay:0s}.pbar2:nth-child(2){animation-delay:.15s}.pbar2:nth-child(3){animation-delay:.3s}.pbar2:nth-child(4){animation-delay:.45s}
@keyframes ba{from{height:3px}to{height:14px}}
.pbars.paused .pbar2{animation-play-state:paused}
.pctrls{display:flex;gap:6px;align-items:center}
.pcbtn{width:36px;height:36px;border:none;background:transparent;color:var(--t);font-size:18px;cursor:pointer;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .15s}
.pcbtn:active{background:rgba(255,255,255,.08)}
.pcbtn.pp{width:44px;height:44px;background:linear-gradient(135deg,var(--p3),var(--p));box-shadow:0 4px 14px rgba(139,92,246,.4)}

/* LOADING */
.ldg{display:none;text-align:center;padding:48px 0}
.ldg.show{display:block}
.spin2{width:42px;height:42px;border:3px solid rgba(139,92,246,.18);border-top-color:var(--p);border-radius:50%;animation:sp .7s linear infinite;margin:0 auto 12px}
@keyframes sp{to{transform:rotate(360deg)}}

/* TOAST */
.toast{position:fixed;bottom:90px;left:50%;transform:translateX(-50%) translateY(10px);background:var(--c2);color:var(--t);padding:10px 20px;border-radius:24px;font-size:13px;font-weight:600;border:1px solid var(--bd);z-index:1000;opacity:0;transition:all .28s;white-space:nowrap;pointer-events:none;backdrop-filter:blur(12px);max-width:90vw;text-align:center}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

/* EMPTY */
.empty{text-align:center;padding:56px 20px}
.eico{font-size:52px;display:block;margin-bottom:14px}
.etitle{font-size:18px;font-weight:700;margin-bottom:8px}
.esub{font-size:14px;color:var(--t2);line-height:1.6}

/* TREND GRID */
.tgrid{display:grid;grid-template-columns:1fr 1fr;gap:9px;margin-bottom:18px}
.titem{background:var(--c1);border:1px solid var(--bd);border-radius:14px;padding:12px;display:flex;align-items:center;gap:10px;cursor:pointer;transition:all .2s}
.titem:active{background:var(--c2);transform:scale(.96)}
.temo{font-size:22px}
.tname{font-size:13px;font-weight:700}
.tgenre{font-size:11px;color:var(--t2)}

/* INFO BOX */
.info{background:rgba(59,130,246,.08);border:1px solid rgba(59,130,246,.2);border-radius:14px;padding:12px 16px;font-size:13px;color:#93c5fd;margin-bottom:16px;line-height:1.55}
.info b{color:#bfdbfe}

/* FREE BADGE */
.fbadge{display:inline-flex;align-items:center;gap:4px;background:rgba(16,185,129,.14);color:var(--g);font-size:11px;font-weight:700;padding:4px 10px;border-radius:10px;border:1px solid rgba(16,185,129,.22)}

.spad{height:20px}
</style>
</head>
<body>
<div class="glow"></div>
<div class="toast" id="toast"></div>

<div class="app">

<!-- HEADER -->
<div class="hdr">
  <div class="logo">
    <div class="logo-box">ğŸµ</div>
    <div class="logo-txt">MÃ¼zik<b>Box</b></div>
  </div>
  <div class="badge">ğŸ†“ ÃœCRETSÄ°Z</div>
</div>

<!-- TABS -->
<div class="tabs">
  <div class="tab on" onclick="goTab('free',this)"><span>ğŸ†“</span>Ãœcretsiz MP3</div>
  <div class="tab" onclick="goTab('search',this)"><span>ğŸ”</span>Ara & Dinle</div>
  <div class="tab" onclick="goTab('lib',this)"><span>â¤ï¸</span>KÃ¼tÃ¼phane</div>
</div>

<!-- ======== FREE MP3 PAGE ======== -->
<div class="pg on" id="pg-free">

  <div class="info">
    ğŸ’¡ <b>YouTube gerektirmez!</b> AÅŸaÄŸÄ±daki kaynaklar doÄŸrudan MP3 indirir. ÅarkÄ± adÄ±nÄ± yaz â†’ kaynak seÃ§ â†’ indir!
  </div>

  <!-- SEARCH IN FREE SOURCES -->
  <div class="card">
    <div class="slbl">ğŸ” ÅarkÄ± AdÄ±yla Ara & Ä°ndir</div>
    <div class="sbox">
      <span class="sico">ğŸµ</span>
      <input type="text" class="sinp" id="freeSearch" placeholder="ÅarkÄ± adÄ± veya sanatÃ§Ä±..." onkeydown="if(event.key==='Enter')freeSearchGo()">
      <button class="sbtn" onclick="freeSearchGo()">â†’</button>
    </div>

    <!-- Source select -->
    <div style="font-size:12px;color:var(--t2);margin-bottom:10px">ğŸŒ Ä°ndirme KaynaÄŸÄ± SeÃ§:</div>
    <div class="chips" id="freeChips">
      <div class="chip on" onclick="selFSrc(this,'jamendo')" data-src="jamendo">ğŸ¶ Jamendo</div>
      <div class="chip" onclick="selFSrc(this,'ccmixter')" data-src="ccmixter">ğŸ¤ ccMixter</div>
      <div class="chip" onclick="selFSrc(this,'freemusicarchive')" data-src="freemusicarchive">ğŸ“¦ Free Archive</div>
      <div class="chip" onclick="selFSrc(this,'pixabay')" data-src="pixabay">ğŸ¸ Pixabay</div>
      <div class="chip" onclick="selFSrc(this,'soundcloud')" data-src="soundcloud">â˜ï¸ SoundCloud</div>
    </div>

    <button class="bigbtn" onclick="freeSearchGo()">ğŸ” Ara ve Ä°ndir</button>
  </div>

  <!-- FREE SOURCES GRID -->
  <div class="slbl">ğŸ†“ DoÄŸrudan MP3 KaynaklarÄ±</div>
  <div class="src-grid">
    <div class="srccard hot" onclick="openSrc('jamendo')">
      <span class="sico2">ğŸ¶</span>
      <div class="sname">Jamendo</div>
      <div class="sdesc">500K+ Ã¼cretsiz ÅŸarkÄ±</div>
      <span class="stag" style="background:rgba(16,185,129,.15);color:var(--g)">ÃœCRETSÄ°Z MP3</span>
    </div>
    <div class="srccard" onclick="openSrc('freemusicarchive')">
      <span class="sico2">ğŸ“¦</span>
      <div class="sname">Free Music Archive</div>
      <div class="sdesc">ArÅŸiv kalitesinde</div>
      <span class="stag" style="background:rgba(59,130,246,.15);color:var(--b)">CC LÄ°SANS</span>
    </div>
    <div class="srccard" onclick="openSrc('ccmixter')">
      <span class="sico2">ğŸ¤</span>
      <div class="sname">ccMixter</div>
      <div class="sdesc">Remix & orijinal</div>
      <span class="stag" style="background:rgba(139,92,246,.15);color:var(--p2)">REMIX</span>
    </div>
    <div class="srccard" onclick="openSrc('pixabay')">
      <span class="sico2">ğŸ¸</span>
      <div class="sname">Pixabay Music</div>
      <div class="sdesc">Telifsiz mÃ¼zik</div>
      <span class="stag" style="background:rgba(245,158,11,.15);color:var(--o)">TELÄ°FSÄ°Z</span>
    </div>
    <div class="srccard" onclick="openSrc('bensound')">
      <span class="sico2">ğŸ¹</span>
      <div class="sname">Bensound</div>
      <div class="sdesc">EnstrÃ¼mantal & pop</div>
      <span class="stag" style="background:rgba(16,185,129,.15);color:var(--g)">ÃœCRETSÄ°Z</span>
    </div>
    <div class="srccard" onclick="openSrc('looperman')">
      <span class="sico2">ğŸ”</span>
      <div class="sname">Looperman</div>
      <div class="sdesc">Loop & acapella</div>
      <span class="stag" style="background:rgba(239,68,68,.15);color:var(--r)">LOOP</span>
    </div>
  </div>

  <!-- DIRECT DOWNLOAD SERVICES -->
  <div class="slbl">âš¡ TÃ¼rkÃ§e MÃ¼zik Ä°ndir</div>
  <div class="altlist">

    <div class="altrow" onclick="openAlt('https://www.mp3juices.cc')">
      <div class="altico" style="background:linear-gradient(135deg,#1a1a00,#4a3a00)">ğŸ§ƒ</div>
      <div class="altinfo">
        <div class="altname">MP3 Juices</div>
        <div class="altdesc">ÅarkÄ± adÄ±yla ara â†’ direkt MP3 indir</div>
        <div class="alttags">
          <span class="atag tg">ÃœCRETSÄ°Z</span>
          <span class="atag tp">MP3</span>
          <span class="atag to">TÃœRKÃ‡E</span>
        </div>
      </div>
      <div class="altarr">â€º</div>
    </div>

    <div class="altrow" onclick="openAlt('https://www.audiomack.com')">
      <div class="altico" style="background:linear-gradient(135deg,#1a0a00,#5a2a00)">ğŸµ</div>
      <div class="altinfo">
        <div class="altname">Audiomack</div>
        <div class="altdesc">Ãœcretsiz mÃ¼zik stream & indirme</div>
        <div class="alttags">
          <span class="atag tg">ÃœCRETSÄ°Z</span>
          <span class="atag tp">MP3</span>
          <span class="atag tb">STREAM</span>
        </div>
      </div>
      <div class="altarr">â€º</div>
    </div>

    <div class="altrow" onclick="openAlt('https://soundcloud.com/search?q=')">
      <div class="altico" style="background:linear-gradient(135deg,#200800,#6a2a00)">â˜ï¸</div>
      <div class="altinfo">
        <div class="altname">SoundCloud</div>
        <div class="altdesc">BaÄŸÄ±msÄ±z sanatÃ§Ä±lar, Ã¼cretsiz dinle & bazÄ±larÄ± indir</div>
        <div class="alttags">
          <span class="atag tg">ÃœCRETSÄ°Z</span>
          <span class="atag tp">MP3</span>
          <span class="atag to">BAÄIMSIZ</span>
        </div>
      </div>
      <div class="altarr">â€º</div>
    </div>

    <div class="altrow" onclick="openAlt('https://www.last.fm')">
      <div class="altico" style="background:linear-gradient(135deg,#1a0000,#5a0000)">ğŸ“»</div>
      <div class="altinfo">
        <div class="altname">Last.fm</div>
        <div class="altdesc">MÃ¼zik keÅŸfet, ÅŸarkÄ± Ã¶nizle</div>
        <div class="alttags">
          <span class="atag tg">ÃœCRETSÄ°Z</span>
          <span class="atag tb">KEÅÄ°F</span>
        </div>
      </div>
      <div class="altarr">â€º</div>
    </div>

    <div class="altrow" onclick="openAlt('https://www.bandcamp.com')">
      <div class="altico" style="background:linear-gradient(135deg,#001a1a,#005a5a)">ğŸ¸</div>
      <div class="altinfo">
        <div class="altname">Bandcamp</div>
        <div class="altdesc">SanatÃ§Ä±dan direkt, Ã¼cretsiz & Ã¼cretli</div>
        <div class="alttags">
          <span class="atag tg">BEDAVA</span>
          <span class="atag tp">HiFi MP3</span>
          <span class="atag tb">FLAC</span>
        </div>
      </div>
      <div class="altarr">â€º</div>
    </div>

    <div class="altrow" onclick="dlWithJuices()">
      <div class="altico" style="background:linear-gradient(135deg,#00100a,#00402a)">â¬‡ï¸</div>
      <div class="altinfo">
        <div class="altname">MP3Skulls</div>
        <div class="altdesc">ÅarkÄ± adÄ± yazarak MP3 bul ve indir</div>
        <div class="alttags">
          <span class="atag tg">ÃœCRETSÄ°Z</span>
          <span class="atag tp">DIREKT MP3</span>
        </div>
      </div>
      <div class="altarr">â€º</div>
    </div>

  </div>

  <!-- ITUNES PREVIEW -->
  <div class="slbl">ğŸµ iTunes Ã–nizleme (30sn MP3)</div>
  <div class="card" style="padding:16px">
    <div style="font-size:13px;color:var(--t2);margin-bottom:12px">iTunes'dan ÅŸarkÄ± ara â†’ 30 saniye kaliteli MP3 Ã¶nizleme indir</div>
    <div class="sbox" style="margin-bottom:12px">
      <span class="sico">ğŸ</span>
      <input type="text" class="sinp" id="itunesQ" placeholder="ÅarkÄ± adÄ±..." onkeydown="if(event.key==='Enter')itunesPreview()">
      <button class="sbtn" onclick="itunesPreview()">â†’</button>
    </div>
    <div class="ldg" id="ildg"><div class="spin2"></div><div style="color:var(--t2);font-size:13px">AranÄ±yor...</div></div>
    <div id="itunesResults"></div>
  </div>

  <!-- HOW TO -->
  <div class="slbl">ğŸ“– NasÄ±l Ä°ndirilir?</div>
  <div class="hbox">
    <div class="htitle">ğŸ“± iPhone'da Ãœcretsiz MP3 Ä°ndirme</div>
    <div class="hstep"><div class="hnum">1</div><div class="htxt"><b>Jamendo veya MP3 Juices</b>'a git â†’ ÅarkÄ± adÄ±nÄ± yaz</div></div>
    <div class="hstep"><div class="hnum">2</div><div class="htxt">ÅarkÄ±ya tÄ±kla â†’ <b>"Download" / "Ä°ndir"</b> butonuna bas</div></div>
    <div class="hstep"><div class="hnum">3</div><div class="htxt">Safari'de dosya aÃ§Ä±lÄ±r â†’ <b>PaylaÅŸ â†’ Dosyalara Kaydet</b></div></div>
    <div class="hstep"><div class="hnum">4</div><div class="htxt"><b>Dosyalar</b> uygulamasÄ±nda MP3 hazÄ±r! VLC ile dinle</div></div>
    <div class="hstep"><div class="hnum">5</div><div class="htxt">Veya <b>iTunes Ã–nizleme</b> ile yukarÄ±dan 30sn MP3 indir</div></div>
  </div>

  <div class="spad"></div>
</div>

<!-- ======== SEARCH PAGE ======== -->
<div class="pg" id="pg-search">

  <div class="sbox">
    <span class="sico">ğŸ”</span>
    <input type="text" class="sinp" id="searchInput" placeholder="ÅarkÄ±, sanatÃ§Ä±..." onkeydown="if(event.key==='Enter')doSearch()">
    <button class="sbtn" onclick="doSearch()">â†’</button>
  </div>

  <div class="chips" id="schips">
    <div class="chip on" onclick="setSrc(this,'itunes')">ğŸ iTunes</div>
    <div class="chip" onclick="setSrc(this,'jamendo')">ğŸ¶ Jamendo</div>
    <div class="chip" onclick="setSrc(this,'deezer')">ğŸ§ Deezer</div>
  </div>

  <div class="ldg" id="sldg"><div class="spin2"></div><div style="color:var(--t2);font-size:13px">AranÄ±yor...</div></div>

  <!-- TRENDS -->
  <div id="trendArea">
    <div class="slbl">ğŸ”¥ PopÃ¼ler</div>
    <div class="tgrid" id="tgrid"></div>
  </div>

  <!-- RESULTS -->
  <div id="resArea" style="display:none">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:14px">
      <div style="font-size:16px;font-weight:700" id="resTitle"></div>
      <div style="font-size:13px;color:var(--t2)" id="resCnt"></div>
    </div>
    <div id="resList"></div>
  </div>

  <div class="spad"></div>
</div>

<!-- ======== LIBRARY PAGE ======== -->
<div class="pg" id="pg-lib">
  <div class="stats">
    <div class="stat"><div class="snum" id="stCnt">0</div><div class="slb">ÅarkÄ±</div></div>
    <div class="stat"><div class="snum" id="stMin">0</div><div class="slb">Dakika</div></div>
    <div class="stat"><div class="snum" id="stArt">0</div><div class="slb">SanatÃ§Ä±</div></div>
  </div>
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:14px">
    <div class="slbl" style="margin-bottom:0">â¤ï¸ Favorilerim</div>
    <button onclick="clearLib()" style="background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.2);color:var(--r);padding:7px 14px;border-radius:10px;font-size:12px;font-weight:700;cursor:pointer">Temizle</button>
  </div>
  <div id="libList"></div>
  <div class="spad"></div>
</div>

</div><!-- /app -->

<!-- PLAYER -->
<div class="player" id="player">
  <div class="pbar" onclick="seekAud(event)" id="ppbar"><div class="pbfill" id="pbfill"></div></div>
  <div class="pbody">
    <div class="part" id="part">ğŸµ</div>
    <div class="pinfo">
      <div class="ptitle" id="ptitle">â€”</div>
      <div class="pbars" id="pbars">
        <div class="pbar2"></div><div class="pbar2"></div><div class="pbar2"></div><div class="pbar2"></div>
      </div>
    </div>
    <div class="pctrls">
      <button class="pcbtn" onclick="prevTr()">â®</button>
      <button class="pcbtn pp" id="ppbtn" onclick="togPP()">â¸</button>
      <button class="pcbtn" onclick="nextTr()">â­</button>
    </div>
  </div>
</div>

<audio id="aud"></audio>

<script>
/* ===== STATE ===== */
let lib=JSON.parse(localStorage.getItem('mb3_lib')||'[]');
let pl=[],ci=0,playing=false,curSrc='itunes',fSrc='jamendo';
const aud=document.getElementById('aud');

/* ===== TABS ===== */
function goTab(id,el){
  document.querySelectorAll('.pg').forEach(p=>p.classList.remove('on'));
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('on'));
  document.getElementById('pg-'+id).classList.add('on');
  el.classList.add('on');
  if(id==='lib')renderLib();
}

/* ===== FREE SOURCES ===== */
const SOURCES={
  jamendo:'https://www.jamendo.com/search?q=',
  freemusicarchive:'https://freemusicarchive.org/search/?adv=1&quicksearch=',
  ccmixter:'http://ccmixter.org/query?search=',
  pixabay:'https://pixabay.com/music/search/',
  bensound:'https://www.bensound.com/royalty-free-music',
  looperman:'https://www.looperman.com/loops?search=',
  soundcloud:'https://soundcloud.com/search?q='
};

function selFSrc(el,src){
  document.querySelectorAll('#freeChips .chip').forEach(c=>c.classList.remove('on'));
  el.classList.add('on');
  fSrc=src;
}

function freeSearchGo(){
  const q=document.getElementById('freeSearch').value.trim();
  if(!q){showToast('âš ï¸ ÅarkÄ± adÄ± yaz');return;}
  const base=SOURCES[fSrc]||SOURCES.jamendo;
  window.open(base+encodeURIComponent(q),'_blank');
  showToast('ğŸŒ '+fSrc+' aÃ§Ä±lÄ±yor...');
}

function openSrc(src){
  const map={
    jamendo:'https://www.jamendo.com/start',
    freemusicarchive:'https://freemusicarchive.org',
    ccmixter:'http://ccmixter.org',
    pixabay:'https://pixabay.com/music',
    bensound:'https://www.bensound.com/royalty-free-music',
    looperman:'https://www.looperman.com'
  };
  window.open(map[src]||'https://www.jamendo.com','_blank');
  showToast('ğŸŒ AÃ§Ä±lÄ±yor...');
}

function openAlt(url){window.open(url,'_blank');showToast('ğŸŒ AÃ§Ä±lÄ±yor...');}

function dlWithJuices(){
  const q=document.getElementById('freeSearch').value.trim();
  const url=q?`https://www.mp3juices.cc/#!${encodeURIComponent(q)}`:'https://www.mp3juices.cc';
  window.open(url,'_blank');
  showToast('ğŸ§ƒ MP3Juices aÃ§Ä±lÄ±yor...');
}

/* ===== iTUNES PREVIEW ===== */
async function itunesPreview(){
  const q=document.getElementById('itunesQ').value.trim();
  if(!q){showToast('âš ï¸ ÅarkÄ± adÄ± yaz');return;}
  const box=document.getElementById('itunesResults');
  const ldg=document.getElementById('ildg');
  box.innerHTML='';
  ldg.classList.add('show');
  try{
    const r=await fetch(`https://itunes.apple.com/search?term=${encodeURIComponent(q)}&media=music&limit=8&country=TR`);
    const d=await r.json();
    ldg.classList.remove('show');
    if(!d.results||!d.results.length){box.innerHTML='<div style="color:var(--t2);font-size:13px;text-align:center;padding:20px">SonuÃ§ yok</div>';return;}
    box.innerHTML='';
    d.results.forEach((t,i)=>{
      const ms=t.trackTimeMillis||0;
      const dur=fmtMs(ms);
      const div=document.createElement('div');
      div.className='rc';
      div.style.marginBottom='8px';
      div.innerHTML=`
        ${t.artworkUrl100?`<img class="rthumb" src="${t.artworkUrl100}" onerror="this.style.display='none'">`:''}
        <div class="rph" style="${t.artworkUrl100?'display:none':''}">ğŸµ</div>
        <div class="ri">
          <div class="rtitle">${t.trackName||'â€”'}</div>
          <div class="rartist">${t.artistName||'â€”'}</div>
          <div class="rmeta">
            <span class="rdur">${dur}</span>
            <span class="rsrc" style="background:rgba(255,45,85,.12);color:#ff2d55">iTunes 30sn</span>
          </div>
        </div>
        <div class="racts">
          <button class="rab rplay" onclick="playPreview(${i})" data-idx="${i}" title="Dinle">â–¶</button>
          <button class="rab rdl" onclick="dlPreview('${t.previewUrl||''}','${(t.artistName||'').replace(/'/g,"\\'")} - ${(t.trackName||'').replace(/'/g,"\\'")}' )" title="Ä°ndir">â¬‡</button>
          <button class="rab rfav" onclick="addFavItunes(${i})" title="Favori">â™¡</button>
        </div>
      `;
      box.appendChild(div);
    });
    // Store preview results
    window._itRes=d.results.map((t,i)=>({
      id:i,title:t.trackName||'â€”',artist:t.artistName||'â€”',
      thumb:t.artworkUrl100,preview:t.previewUrl,
      dur:fmtMs(t.trackTimeMillis),durMs:t.trackTimeMillis||0,source:'iTunes'
    }));
  }catch(e){
    ldg.classList.remove('show');
    box.innerHTML='<div style="color:var(--r);font-size:13px;text-align:center;padding:20px">BaÄŸlantÄ± hatasÄ±</div>';
  }
}

function playPreview(i){
  if(!window._itRes||!window._itRes[i])return;
  pl=window._itRes;ci=i;
  const tr=pl[i];
  if(!tr.preview){showToast('âš ï¸ Ã–nizleme yok');return;}
  aud.src=tr.preview;
  aud.play().then(()=>{
    playing=true;
    document.getElementById('ptitle').textContent=tr.title;
    document.getElementById('player').classList.add('show');
    document.getElementById('ppbtn').textContent='â¸';
    document.getElementById('pbars').classList.remove('paused');
    document.getElementById('part').classList.add('spin');
  }).catch(()=>showToast('âŒ OynatÄ±lamadÄ±'));
}

function dlPreview(url,name){
  if(!url){showToast('âš ï¸ Ã–nizleme linki yok');return;}
  const a=document.createElement('a');
  a.href=url;a.download=name+'.m4a';a.click();
  showToast('â¬‡ï¸ 30sn Ã¶nizleme indiriliyor...');
}

function addFavItunes(i){
  if(!window._itRes||!window._itRes[i])return;
  const tr=window._itRes[i];
  if(lib.some(t=>t.title===tr.title&&t.artist===tr.artist)){showToast('âœ… Zaten var');return;}
  lib.unshift(tr);
  localStorage.setItem('mb3_lib',JSON.stringify(lib));
  showToast('â¤ï¸ KÃ¼tÃ¼phaneye eklendi');
}

/* ===== SEARCH ===== */
function setSrc(el,src){
  document.querySelectorAll('#schips .chip').forEach(c=>c.classList.remove('on'));
  el.classList.add('on');curSrc=src;
}

async function doSearch(){
  const q=document.getElementById('searchInput').value.trim();
  if(!q){showToast('âš ï¸ ÅarkÄ± adÄ± yaz');return;}

  if(curSrc==='jamendo'){
    window.open('https://www.jamendo.com/search?q='+encodeURIComponent(q),'_blank');
    showToast('ğŸ¶ Jamendo\'da aÃ§Ä±ldÄ±');
    return;
  }
  if(curSrc==='deezer'){
    window.open('https://www.deezer.com/search/'+encodeURIComponent(q),'_blank');
    showToast('ğŸ§ Deezer\'da aÃ§Ä±ldÄ±');
    return;
  }

  document.getElementById('trendArea').style.display='none';
  document.getElementById('resArea').style.display='none';
  document.getElementById('sldg').classList.add('show');

  try{
    const r=await fetch(`https://itunes.apple.com/search?term=${encodeURIComponent(q)}&media=music&limit=20&country=TR`);
    const d=await r.json();
    document.getElementById('sldg').classList.remove('show');
    if(d.results&&d.results.length){
      showResults(d.results,q);
    }else{
      document.getElementById('trendArea').style.display='block';
      showToast('ğŸ˜” SonuÃ§ bulunamadÄ±');
    }
  }catch{
    document.getElementById('sldg').classList.remove('show');
    document.getElementById('trendArea').style.display='block';
    showToast('âŒ Hata oluÅŸtu');
  }
}

function showResults(data,q){
  pl=data.map((r,i)=>({
    id:i,title:r.trackName||'â€”',artist:r.artistName||'â€”',
    thumb:r.artworkUrl100,thumbBig:r.artworkUrl100?r.artworkUrl100.replace('100x100','300x300'):null,
    preview:r.previewUrl,dur:fmtMs(r.trackTimeMillis),durMs:r.trackTimeMillis||0,source:'iTunes'
  }));
  document.getElementById('resTitle').textContent=`"${q}"`;
  document.getElementById('resCnt').textContent=pl.length+' sonuÃ§';
  const list=document.getElementById('resList');
  list.innerHTML='';
  pl.forEach((tr,i)=>{
    const d=document.createElement('div');
    d.className='rc';
    d.innerHTML=`
      ${tr.thumb?`<img class="rthumb" src="${tr.thumb}" onerror="this.style.display='none';this.nextSibling.style.display='flex'">`:''}
      <div class="rph" style="${tr.thumb?'display:none':''}">ğŸµ</div>
      <div class="ri">
        <div class="rtitle">${tr.title}</div>
        <div class="rartist">${tr.artist}</div>
        <div class="rmeta">
          <span class="rdur">${tr.dur}</span>
          <span class="rsrc" style="background:rgba(255,45,85,.12);color:#ff2d55">iTunes</span>
        </div>
      </div>
      <div class="racts">
        <button class="rab rplay" onclick="playTr(${i})">â–¶</button>
        <button class="rab rfav" id="fvb${i}" onclick="togFav(${i},this)">${isInLib(tr)?'â™¥':'â™¡'}</button>
        <button class="rab rdl" onclick="dlTr(${i})">â¬‡</button>
      </div>
    `;
    list.appendChild(d);
  });
  document.getElementById('resArea').style.display='block';
}

/* ===== PLAYER ===== */
function playTr(i){
  ci=i;
  const tr=pl[i];
  if(!tr.preview){
    // Open free sources
    showToast('ğŸ”— Ãœcretsiz kaynak aÃ§Ä±lÄ±yor...');
    window.open('https://www.mp3juices.cc/#!'+encodeURIComponent(tr.title+' '+tr.artist),'_blank');
    return;
  }
  aud.src=tr.preview;
  aud.play().then(()=>{
    playing=true;
    document.getElementById('ptitle').textContent=tr.title;
    document.getElementById('player').classList.add('show');
    document.getElementById('ppbtn').textContent='â¸';
    document.getElementById('pbars').classList.remove('paused');
    document.getElementById('part').classList.add('spin');
    showToast('â–¶ï¸ '+tr.title);
  }).catch(()=>showToast('âŒ OynatÄ±lamadÄ±'));
}

function togPP(){
  if(!aud.src)return;
  if(playing){
    aud.pause();playing=false;
    document.getElementById('ppbtn').textContent='â–¶';
    document.getElementById('pbars').classList.add('paused');
    document.getElementById('part').classList.remove('spin');
  }else{
    aud.play();playing=true;
    document.getElementById('ppbtn').textContent='â¸';
    document.getElementById('pbars').classList.remove('paused');
    document.getElementById('part').classList.add('spin');
  }
}

function nextTr(){if(!pl.length)return;playTr((ci+1)%pl.length);}
function prevTr(){if(!pl.length)return;playTr((ci-1+pl.length)%pl.length);}

function seekAud(e){
  const bar=document.getElementById('ppbar');
  const pct=e.offsetX/bar.clientWidth;
  if(aud.duration)aud.currentTime=aud.duration*pct;
}

aud.addEventListener('timeupdate',()=>{
  if(aud.duration)document.getElementById('pbfill').style.width=(aud.currentTime/aud.duration*100)+'%';
});
aud.addEventListener('ended',nextTr);

/* ===== FAV / LIBRARY ===== */
function isInLib(tr){return lib.some(t=>t.title===tr.title&&t.artist===tr.artist);}

function togFav(i,btn){
  const tr=pl[i];
  if(isInLib(tr)){
    lib=lib.filter(t=>!(t.title===tr.title&&t.artist===tr.artist));
    btn.textContent='â™¡';showToast('ğŸ’” KaldÄ±rÄ±ldÄ±');
  }else{
    lib.unshift(tr);btn.textContent='â™¥';showToast('â¤ï¸ Eklendi');
  }
  localStorage.setItem('mb3_lib',JSON.stringify(lib));
}

function renderLib(){
  const totalMin=Math.round(lib.reduce((a,t)=>a+(t.durMs||0),0)/60000);
  const artists=new Set(lib.map(t=>t.artist)).size;
  document.getElementById('stCnt').textContent=lib.length;
  document.getElementById('stMin').textContent=totalMin;
  document.getElementById('stArt').textContent=artists;
  const list=document.getElementById('libList');
  if(!lib.length){
    list.innerHTML=`<div class="empty"><span class="eico">ğŸ“­</span><div class="etitle">BoÅŸ</div><div class="esub">Ara â†’ â¤ï¸ ile ekle</div></div>`;
    return;
  }
  list.innerHTML='';
  lib.forEach((tr,i)=>{
    const d=document.createElement('div');
    d.className='rc';
    d.innerHTML=`
      <div class="rph">ğŸµ</div>
      <div class="ri">
        <div class="rtitle">${tr.title}</div>
        <div class="rartist">${tr.artist}</div>
        <div class="rmeta"><span class="rdur">${tr.dur||'--:--'}</span><span class="rsrc" style="background:rgba(239,68,68,.12);color:#ef4444">â¤ï¸</span></div>
      </div>
      <div class="racts">
        <button class="rab rplay" onclick="playLib(${i})">â–¶</button>
        <button class="rab rfav" onclick="rmLib(${i})">â™¥</button>
        <button class="rab rdl" onclick="dlLib(${i})">â¬‡</button>
      </div>
    `;
    d.style.marginBottom='10px';
    list.appendChild(d);
  });
}

function playLib(i){pl=[...lib];playTr(i);}
function rmLib(i){lib.splice(i,1);localStorage.setItem('mb3_lib',JSON.stringify(lib));renderLib();showToast('ğŸ—‘ï¸ KaldÄ±rÄ±ldÄ±');}
function clearLib(){if(!lib.length)return;if(confirm('Temizle?')){lib=[];localStorage.setItem('mb3_lib',JSON.stringify(lib));renderLib();showToast('ğŸ—‘ï¸ Temizlendi');}}
function dlLib(i){dlTr2(lib[i]);}
function dlTr(i){dlTr2(pl[i]);}

function dlTr2(tr){
  if(tr.preview){
    const a=document.createElement('a');a.href=tr.preview;a.download=`${tr.artist} - ${tr.title}.m4a`;a.click();
    showToast('â¬‡ï¸ Ã–nizleme indiriliyor...');
  }else{
    window.open('https://www.mp3juices.cc/#!'+encodeURIComponent(tr.title+' '+tr.artist),'_blank');
    showToast('ğŸ§ƒ MP3Juices\'ta ara');
  }
}

/* ===== TRENDS ===== */
const TRENDS=[
  {e:'ğŸ¸',n:'Duman',g:'Rock'},{e:'â­',n:'Tarkan',g:'Pop'},
  {e:'ğŸŒ¿',n:'Mabel Matiz',g:'Indie'},{e:'ğŸ’œ',n:'Semicenk',g:'Pop'},
  {e:'ğŸ­',n:'Teoman',g:'Rock'},{e:'ğŸŒ¸',n:'Zeynep BastÄ±k',g:'Pop'},
  {e:'ğŸ”¥',n:'Sagopa Kajmer',g:'Rap'},{e:'ğŸº',n:'Manga',g:'Metal'},
];
function buildTrends(){
  document.getElementById('tgrid').innerHTML=TRENDS.map(t=>`
    <div class="titem" onclick="qSearch('${t.n}')">
      <span class="temo">${t.e}</span>
      <div><div class="tname">${t.n}</div><div class="tgenre">${t.g}</div></div>
    </div>`).join('');
}
function qSearch(q){document.getElementById('searchInput').value=q;doSearch();}

/* ===== HELPERS ===== */
function fmtMs(ms){if(!ms)return'--:--';const s=Math.floor(ms/1000);return`${Math.floor(s/60)}:${(s%60).toString().padStart(2,'0')}`;}
function showToast(msg){
  const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');
  clearTimeout(t._t);t._t=setTimeout(()=>t.classList.remove('show'),2600);
}

/* ===== INIT ===== */
buildTrends();
renderLib();
</script>
</body>
</html>
